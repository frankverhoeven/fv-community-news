!function(e,s){"use strict";e(document).ready(function(){var t={$form:e(".fvcn-post-form"),$submit:e("#fvcn_post_form_submit"),$loader:e(".fvcn-post-form-loader"),init:function(){var t=this;e.ajaxSetup({cache:!1}),e(".fvcn-post-form-new-post").ajaxForm({url:s.ajaxurl,data:{nonce:s.nonce,action:s.action},dataType:"json",beforeSend:function(){t.showLoader(),t.disableSubmitButton()},success:function(s){t.hideLoader(),t.enableSubmitButton(),t.clearAllMessages(),"true"===s.success?""===s.permalink||""!==s.message?(t.hideForm(),t.showResponseMessage(s.message)):window.location.href=s.permalink:e.each(s.errors,function(e,s){t.displayMessage(e,s)})}})},showLoader:function(){this.$loader.show()},hideLoader:function(){this.$loader.hide()},disableSubmitButton:function(){this.$submit.attr("disabled","disabled")},enableSubmitButton:function(){this.$submit.removeAttr("disabled")},hideForm:function(){this.$form.slideUp("fast")},showResponseMessage:function(e){this.$form.parent().append('<div class="fvcn-post-added">'+e+"</div>")},clearAllMessages:function(){e(".fvcn-error").html("")},displayMessage:function(s,t){e("."+s.replace(/_/g,"-")+" > .fvcn-error").html('<ul class="fvcn-template-notice error"><li>'+t+"</li></ul>")}};t.$form.length&&t.init()})}(jQuery,FvCommunityNewsJavascript);